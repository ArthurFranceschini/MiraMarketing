---
interface Props {
  lang: 'pt' | 'es';
}

const { lang } = Astro.props;

import ptFooter from '../i18n/pt/footer.json';
import esFooter from '../i18n/es/footer.json';

const t = lang === 'pt' ? ptFooter : esFooter;

import { Instagram, Linkedin, Mail, Phone, MapPin } from '@lucide/astro';

const whatsappLink = lang === 'pt' 
  ? 'https://api.whatsapp.com/send/?phone=5545988441835&text=Ol%C3%A1%21+Vim+pelo+site+da+Mira+Marketing+e+gostaria+de+saber+mais+sobre+os+servi%C3%A7os+de+voc%C3%AAs.+Podem+me+ajudar%3F&type=phone_number&app_absent=0'
  : 'https://api.whatsapp.com/send/?phone=5545988441835&text=%C2%A1Hola%21+Vine+por+el+sitio+de+Mira+Marketing+y+me+gustar%C3%ADa+saber+m%C3%A1s+sobre+sus+servicios.+%C2%BFPueden+ayudarme%3F&type=phone_number&app_absent=0';

const schemaData = {
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Mira Marketing",
  "url": `https://miramarketing.com/${lang}/`,
  "logo": "https://miramarketing.com/logo.svg",
  "description": t.description,
  "address": {
    "@type": "PostalAddress",
    "streetAddress": t.contact.address,
    "addressLocality": "Foz do Igua√ßu",
    "addressRegion": "PR",
    "addressCountry": "BR"
  },
  "contactPoint": {
    "@type": "ContactPoint",
    "telephone": t.contact.phone,
    "email": t.contact.email,
    "contactType": "customer service",
    "availableLanguage": ["Portuguese", "Spanish"]
  },
  "sameAs": [
    t.social.instagram,
    t.social.linkedin
  ]
};
---

<footer class="px-8 py-16 md:px-32 md:py-32 bg-linear-to-r from-[#0004FF] to-[#FF0A0A]" itemscope itemtype="https://schema.org/Organization">
  
  <div class="grid grid-cols-1 md:grid-cols-4 gap-8 md:gap-16">
    
    <div class="md:col-span-2">
      <a href={`/${lang}`} class="inline-block" itemprop="url">
        <img src="/logo-white.svg" alt="Mira Marketing" class="h-8 md:h-12" itemprop="logo" />
      </a>
      <p class="text-white text-sm md:text-base mt-4 md:mt-8 max-w-md" itemprop="description">
        {t.description}
      </p>
      
      <div class="flex gap-4 mt-8">
        <a href={t.social.instagram} target="_blank" rel="noopener noreferrer" class="text-white hover:opacity-80 transition-opacity" aria-label="Instagram" itemprop="sameAs">
          <Instagram class="w-6 h-6" aria-hidden="true" />
        </a>
        <a href={t.social.linkedin} target="_blank" rel="noopener noreferrer" class="text-white hover:opacity-80 transition-opacity" aria-label="LinkedIn" itemprop="sameAs">
          <Linkedin class="w-6 h-6" aria-hidden="true" />
        </a>
      </div>
    </div>

    <nav aria-label={t.linksTitle}>
      <h3 class="text-white font-bold text-base md:text-xl mb-4 md:mb-8">{t.linksTitle}</h3>
      <ul class="space-y-2 md:space-y-4">
        <li>
          <a href={`/${lang}/${lang === 'pt' ? 'sobre' : 'nosotros'}`} class="text-white text-sm md:text-base hover:opacity-80 transition-opacity">{t.links.about}</a>
        </li>
        <li>
          <a href={`/${lang}/servicos`} class="text-white text-sm md:text-base hover:opacity-80 transition-opacity">{t.links.services}</a>
        </li>
        <li>
          <a href={`/${lang}/cases`} class="text-white text-sm md:text-base hover:opacity-80 transition-opacity">{t.links.cases}</a>
        </li>
        <li>
          <a href={whatsappLink} target="_blank" rel="noopener noreferrer" class="text-white text-sm md:text-base hover:opacity-80 transition-opacity">{t.links.contact}</a>
        </li>
      </ul>
    </nav>

    <div itemprop="contactPoint" itemscope itemtype="https://schema.org/ContactPoint">
      <h3 class="text-white font-bold text-base md:text-xl mb-4 md:mb-8">{t.contactTitle}</h3>
      <ul class="space-y-2 md:space-y-4">
        <li>
          <a href={`mailto:${t.contact.email}`} class="text-white text-sm md:text-base hover:opacity-80 transition-opacity flex items-center gap-2" itemprop="email">
            <Mail class="w-4 h-4 shrink-0" aria-hidden="true" />
            {t.contact.email}
          </a>
        </li>
        <li>
          <a href={whatsappLink} target="_blank" rel="noopener noreferrer" class="text-white text-sm md:text-base hover:opacity-80 transition-opacity flex items-center gap-2" itemprop="telephone">
            <Phone class="w-4 h-4 shrink-0" aria-hidden="true" />
            {t.contact.phone}
          </a>
        </li>
        <li itemprop="address" itemscope itemtype="https://schema.org/PostalAddress">
          <span class="text-white text-sm md:text-base flex items-start gap-2">
            <MapPin class="w-4 h-4 shrink-0 mt-1" aria-hidden="true" />
            <span itemprop="streetAddress">{t.contact.address}</span>
          </span>
        </li>
      </ul>
    </div>

  </div>

  <div class="h-px bg-white/20 mt-12 md:mt-16" role="separator"></div>

  <div class="flex flex-col md:flex-row justify-between items-center mt-8 gap-4">
    <p class="text-white text-xs md:text-sm opacity-80">
      {t.copyright}
    </p>
    <div class="flex gap-4 md:gap-8">
      <a href={`/${lang}/privacidade`} class="text-white text-xs md:text-sm opacity-80 hover:opacity-100 transition-opacity">
        {t.privacy}
      </a>
      <a href={`/${lang}/termos`} class="text-white text-xs md:text-sm opacity-80 hover:opacity-100 transition-opacity">
        {t.terms}
      </a>
    </div>
  </div>

</footer>

<script type="application/ld+json" set:html={JSON.stringify(schemaData)} />